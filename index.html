<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8"/>
    <title>Markless JS Parser</title>
    <link rel="stylesheet" type="text/css" href="index.css"/>
    <meta name="viewport" content="width=device-width"/>
  </head>
  <body>
    <header>
      <h1>Markless Live Parser</h1>
    </header>
    <main>
      <textarea id="input" autofocus># Markless
This is a demo page to illustrate the workings of the JavaScript Markless implementation.
Markless is a new ASCII text markup standard that aims to be intuitive, unambiguous, and \
fast.

## Basic Markup
You can *scream* like usual. Just use \* around your text. If the screaming text has \* in it, either escape it, or use more \*s. **1*1**

If you don't like screaming, you can also simply /italicize/. Works the same as bolding, but with \/s. And just the same is _underlining_. Simply put down some \_s.

In order to avoid clashing with hyphenation --or dashes-- strikethrough is <-unbelievably complicated-> a bit more complex. Just surround the text with \<- foo ->. By the way, dashes are just two hyphens like so: \--

You can also make supertext^(yay) and subtextv(oh boy). Simply surround the text with parens and prefix it with ^ for supertext or v for subtext.

## Code
:: common-lisp
;; Hah!
(defun !(!)(if(<= ! 1)!(* !(!(1- !)))))
::

Code can also be done inline with backticks: \`foo\` will become `foo`.

==

## Other Shit
! warn Hi
! disable-directives instruction
! warn Should not be warned
; And this doesn't show up at all.</textarea>
      <section id="output"></section>
    </main>
    <footer>
      Took <time id="time-taken">0</time>s to parse.
    </footer>
    <script type="text/javascript" src="markless.js"></script>
    <script type="text/javascript">
      var input = document.getElementById('input');
      var output = document.getElementById('output');
      var timeout = document.getElementById('time-taken');
      var parser = new MarklessParser();
      
      function updateOutput(){
          parser.globallyDisabledDirectives = [];
          var start = performance.now();
          parser.parseInto(output, input.value);
          var time = performance.now() - start;
          timeout.innerHTML = (time/1000).toFixed(4)+"";
      }
      input.addEventListener('input',updateOutput);
      updateOutput();
    </script>
  </body>
</html>
